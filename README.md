# üöó Carrito Omnidireccional con Ruedas Mecanum - Robotica-2

[![Python](https://img.shields.io/badge/Python-3.7%2B-blue.svg)](https://www.python.org/)
[![Raspberry Pi](https://img.shields.io/badge/Raspberry%20Pi-4-red.svg)](https://www.raspberrypi.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

**Proyecto final de Rob√≥tica 2 - Carrito independiente con bater√≠as externas**

*Estudiantes: Cristian Alejandro Dur√°n Ignacio, Alfaro Ayzama Jos√© Fernando, Ever Rolando Rejas Espinoza*

---

## üìã Descripci√≥n

Sistema de control omnidireccional utilizando cuatro ruedas mecanum controladas por dos m√≥dulos Motoron I2C desde una Raspberry Pi 4. El carrito cuenta con un sistema de energ√≠a independiente basado en bater√≠as LiPo y puede realizar movimientos en cuatro direcciones: adelante, atr√°s, lateral derecha y lateral izquierda.

## ‚ú® Caracter√≠sticas

- üéØ **Movimiento omnidireccional** con ruedas mecanum
- üîã **Sistema de energ√≠a dual independiente** con bater√≠as LiPo 3S
- üéÆ **Control I2C** mediante m√≥dulos Motoron M3H
- üì° **Comunicaci√≥n dual** con dos controladores (0x10 y 0x11)
- ‚ö° **Regulaci√≥n de voltaje** para protecci√≥n de componentes
- üîß **C√≥digo modular** f√°cil de extender y modificar

## üß∞ Componentes Necesarios

### Hardware Principal
| Componente | Cantidad | Especificaciones |
|------------|----------|------------------|
| Raspberry Pi 4 | 1 | 4GB RAM (recomendado) |
| M√≥dulos Motoron M3H | 2 | Controladores I2C |
| Motores GM25-370 | 4 | Con encoders |
| Ruedas Mecanum | 4 | Omnidireccionales |
| Bater√≠as LiPo | 2 | 3S, 11.1V, 2200mAh |
| Regulador DC-DC | 1 | XL6019 o LM2596S |
| Chasis de aluminio | 1 | Estructura base |
| MicroSD | 1 | 32GB+ Clase 10 |

### Herramientas y Accesorios
- Mult√≠metro
- Protoboard
- Cables jumper
- Fuente de alimentaci√≥n (para pruebas)
- Destornilladores

<p >
  <img src="recursos/alides.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/fuente.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/rasberrypi4.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/multimetro.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/baterias.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/cables.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/motorrueda.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/modulos.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/concceionmotores.png" alt="Conexiones b√°sicas" width="300" height="300"/>
  <img src="recursos/regu.png" alt="Regulador de voltaje" width="300" height="300"/>
</p>

---

## üöÄ Gu√≠a de Construcci√≥n por Fases

### üìü FASE 1: Instalaci√≥n del Sistema Operativo

#### 1.1 Preparaci√≥n de la Raspberry Pi
```bash
# Descargar Raspberry Pi Imager desde:
# https://www.raspberrypi.org/software/

# Configurar MicroSD con Raspberry Pi OS
# Habilitar SSH y I2C en configuraci√≥n avanzada
```

#### 1.2 Primera configuraci√≥n
```bash
# Despu√©s del primer arranque
sudo raspi-config

# Navegar a:
# - Interfacing Options ‚Üí I2C ‚Üí Enable
# - Advanced Options ‚Üí Expand Filesystem
# - Reboot
```

#### 1.3 Instalaci√≥n de dependencias b√°sicas
```bash
# Actualizar sistema
sudo apt update && sudo apt upgrade -y

# Instalar herramientas necesarias
sudo apt install python3-pip python3-dev i2c-tools git -y

# Verificar I2C
i2cdetect -y 1
```

---

### üîß FASE 2: Prueba con Dos Motores

#### 2.1 Armado b√°sico del chasis
1. Montar la Raspberry Pi en el chasis de aluminio
2. Instalar 2 motores GM25-370 en posiciones opuestas
3. Conectar las ruedas mecanum a los motores

<p align="center">
  <img src="recursos/rmod.png" alt="Conexiones b√°sicas" width="700" height="300"/>
  <img src="recursos/2Mconeccion.png" alt="Conexiones b√°sicas" width="700" height="300"/>
</p>

#### 2.2 Conexiones el√©ctricas - Configuraci√≥n b√°sica

**Raspberry Pi ‚Üî M√≥dulo Motoron M3H:**
```
RPi Pin 3 (SDA) ‚Üí Motoron SDA
RPi Pin 5 (SCL) ‚Üí Motoron SCL  
RPi Pin 6 (GND) ‚Üí Motoron GND
```

**Motores ‚Üî M√≥dulo Motoron:**
```
Motor 1: M1+ ‚Üí M2A, M1- ‚Üí M2B
Motor 2: M2+ ‚Üí M3A, M2- ‚Üí M3B
```

**Alimentaci√≥n temporal:**
```
Fuente regulada 9V ‚Üí VIN del m√≥dulo
Raspberry Pi ‚Üí Cable USB-C original
```

<p align="center">
  <img src="recursos/circuito1motor.png" alt="Conexiones b√°sicas" width="300" height="300"/>
</p>

#### 2.3 Instalaci√≥n de librer√≠as
```bash
# Instalar librer√≠a Motoron
pip3 install motoron

# Instalar RPi.GPIO
pip3 install RPi.GPIO

# Verificar instalaci√≥n Python
python3 --version
```

#### 2.4 C√≥digo de prueba para dos motores
```bash
# Clonar repositorio de Pololu (referencia)
git clone https://github.com/pololu/motoron-python

# Verificar conexi√≥n I2C
i2cdetect -y 1
# Debe mostrar direcci√≥n 0x10
```
<p align="center">
  <img src="recursos/pruebamodulos.png" alt="Detecci√≥n I2C" width="600" height="200"/>
</p>

#### 2.5 Ejecutar prueba b√°sica
```bash
# Crear y ejecutar archivo de prueba
python3 prueba_dos_motores.py
```

**Secuencia de movimientos esperada:**
- Adelante (2 segundos)
- Atr√°s (2 segundos)
- Pausa entre movimientos

<p align="center">
  <img src="recursos/demo2.gif" alt="Detecci√≥n I2C" width="500" height="500"/>
</p>

---

### üîã FASE 3: Sistema de Energ√≠a Independiente

#### 3.1 Configuraci√≥n del regulador de voltaje
1. **Configurar regulador XL6019/LM2596S:**
   - Entrada: Bater√≠a LiPo 11.1V
   - Salida: Ajustar a 5V exactos (usar mult√≠metro)
   - Verificar polaridad antes de conectar

2. **Esquema de alimentaci√≥n dual:**
```
Bater√≠a LiPo 1 (11.1V) ‚Üí Regulador ‚Üí Raspberry Pi (5V)
Bater√≠a LiPo 2 (11.1V) ‚Üí M√≥dulos Motoron (VIN directo)
```

<p align="center">
  <img src="recursos/regulador.png" alt="Regulador de voltaje" width="500" height="500"/>
</p>

‚ö†Ô∏è **ADVERTENCIA:** Nunca conectar 11.1V directamente a la Raspberry Pi

---

### üöó FASE 4: Ensamblaje Completo del Carrito

#### 4.1 Instalaci√≥n de todos los componentes
1. Montar los 4 motores GM25-370 en el chasis
2. Instalar todas las ruedas mecanum (verificar orientaci√≥n)
3. Configurar el segundo m√≥dulo Motoron a direcci√≥n 0x11
4. Conectar ambos m√≥dulos en paralelo

#### 4.2 Conexiones completas

**Raspberry Pi ‚Üî Ambos M√≥dulos Motoron (paralelo):**
```
RPi Pin 3 (SDA) ‚Üí SDA m√≥dulo 1 y m√≥dulo 2
RPi Pin 5 (SCL) ‚Üí SCL m√≥dulo 1 y m√≥dulo 2
RPi Pin 6 (GND) ‚Üí GND m√≥dulo 1 y m√≥dulo 2
```

**Distribuci√≥n de motores:**
```
M√≥dulo 1 (0x10) - Lado Izquierdo:
‚îú‚îÄ‚îÄ Motor Delantero Izq ‚Üí M2A, M2B
‚îî‚îÄ‚îÄ Motor Trasero Izq   ‚Üí M3A, M3B

M√≥dulo 2 (0x11) - Lado Derecho:
‚îú‚îÄ‚îÄ Motor Delantero Der ‚Üí M2A, M2B
‚îî‚îÄ‚îÄ Motor Trasero Der   ‚Üí M3A, M3B
```

<p align="center">
  <img src="recursos/rmod.png" alt="M√≥dulos conectados" width="700" height="300"/>
  <img src="recursos/modulos.png" alt="M√≥dulos conectados" width="500" height="500"/>
  <img src="recursos/coneccionfinal.png" alt="M√≥dulos conectados" width="500" height="500"/>
</p>

#### 4.3 Conexi√≥n de encoders (opcional)
```
Motor 1 Encoder ‚Üí GPIO 14, 15
Motor 2 Encoder ‚Üí GPIO 17, 27
Motor 3 Encoder ‚Üí GPIO 22, 23
Motor 4 Encoder ‚Üí GPIO 24, 25
```

<p align="center">
  <img src="recursos/4Mconccion.png" alt="M√≥dulos conectados" width="500" height="500"/>
</p>

#### 4.4 Sistema de energ√≠a final
```
Bater√≠a LiPo 1 ‚Üí Regulador DC-DC ‚Üí Raspberry Pi (5V)
Bater√≠a LiPo 2 ‚Üí VIN ambos m√≥dulos Motoron (11.1V)
Tierras comunes conectadas
```

---

## üíª Instalaci√≥n y Uso

### Instalaci√≥n r√°pida
```bash
# Clonar el repositorio
git clone  https://github.com/Josefer98/Robotica2_carrito_independiente.git
cd Robotica2_carrito_independiente/codigo

# Instalar dependencias
pip3 install -r requirements.txt

# Verificar conexi√≥n de ambos m√≥dulos
i2cdetect -y 1
# Debe mostrar direcciones 0x10 y 0x11
```

### Configuraci√≥n I2C
```python
MC1_ADDR = 0x10  # M√≥dulo controla motores izquierdos
MC2_ADDR = 0x11  # M√≥dulo controla motores derechos
```

### Ejecuci√≥n del c√≥digo principal
```bash
# Ejecutar carrito completo
python3 codigomotor.py
```

**Secuencia de movimientos:**
- Adelante (flecha arriba)
- Atr√°s (flecha abajo)
- Derecha (flecha izquierda)
- Izquierda (flecha derecha)

---

## üîß Resoluci√≥n de Problemas

### Verificaciones b√°sicas
```bash
# Verificar I2C
i2cdetect -y 1

# Verificar instalaci√≥n de librer√≠as
python3 -c "import motoron; print('‚úÖ Motoron OK')"

# Verificar voltajes con mult√≠metro
# - Bater√≠a LiPo: ~11.1V (cargada)
# - Salida regulador: 5.0V exactos
# - VIN m√≥dulos: 11.1V
```

### Problemas comunes

| Problema | Causa | Soluci√≥n |
|----------|-------|----------|
| M√≥dulos no detectados | I2C deshabilitado | `sudo raspi-config` ‚Üí habilitar I2C |
| Motores no se mueven | Sin alimentaci√≥n | Verificar conexi√≥n bater√≠as |
| Movimientos err√°ticos | Conexiones flojas | Revisar continuidad con mult√≠metro |
| Error de importaci√≥n | Librer√≠a faltante | `pip3 install motoron` |

---



## üéÆ Movimientos del Carrito

| Direcci√≥n | Descripci√≥n |
|-----------|-------------|
| ‚¨ÜÔ∏è Adelante | Avance frontal | 
| ‚¨áÔ∏è Atr√°s | Retroceso |
| ‚û°Ô∏è Derecha | Desplazamiento lateral |
| ‚¨ÖÔ∏è Izquierda | Desplazamiento lateral |

---

<div align="center">

**üé¨ Demostraci√≥n**

<p align="center">
  <img src="recursos/demo.gif" alt="M√≥dulos conectados" width="500" height="500"/>
</p>

</div>

## üìä Especificaciones T√©cnicas

### Sistema de energ√≠a
- **Bater√≠as**: 2x LiPo 3S (11.1V, 2200mAh)
- **Regulaci√≥n**: DC-DC a 5V para Raspberry Pi
- **Autonom√≠a estimada**: 2-3 horas de uso continuo

### Comunicaci√≥n
- **Protocolo**: I2C
- **Direcciones**: 0x10 (izquierdo), 0x11 (derecho)
- **Velocidad**: Bus I2C est√°ndar (100kHz)

---

## üìö Referencias y Documentaci√≥n

- [Librer√≠a Motoron Python](https://github.com/pololu/motoron-python)
- [Documentaci√≥n Motoron M3H](https://www.pololu.com/docs/0J84/)
- [Raspberry Pi I2C Setup](https://www.raspberrypi.org/documentation/)

---

## üéØ Notas Importantes

‚ö†Ô∏è **Seguridad:**
- Verificar siempre las conexiones antes de energizar
- Usar mult√≠metro para confirmar voltajes
- Asegurar que I2C est√© habilitado: `sudo raspi-config`
- Mantener tierras comunes entre sistemas

üîã **Bater√≠as LiPo:**
- Cargar con cargador espec√≠fico para LiPo
- No descargar por debajo de 3.0V por celda
- Almacenar a voltaje de almacenamiento (3.8V/celda)

---

## üë• Autores

- **Cristian Alejandro Dur√°n Ignacio** 
- **Alfaro Ayzama Jos√© Fernando** 
- **Ever Rolando Rejas Espinoza**

